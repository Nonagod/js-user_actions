"use strict";(()=>{var j=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var E=j(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.default=void 0;function D(n,t){return A(n)||k(n,t)||P(n,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(n,t){if(n){if(typeof n=="string")return b(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?b(n,t):void 0}}function b(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function k(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,o,u,s,f=[],a=!0,l=!1;try{if(u=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;a=!1}else for(;!(a=(r=u.call(e)).done)&&(f.push(r.value),f.length!==t);a=!0);}catch(M){l=!0,o=M}finally{try{if(!a&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(l)throw o}}return f}}function A(n){if(Array.isArray(n))return n}function i(n){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(n)}function v(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,R(r.key),r)}}function m(n,t,e){return t&&v(n.prototype,t),e&&v(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function O(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function T(n,t,e){return t=y(t),N(n,g()?Reflect.construct(t,e||[],y(n).constructor):t.apply(n,e))}function N(n,t){if(t&&(i(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(n)}function U(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function C(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&_(n,t)}function h(n){var t=typeof Map=="function"?new Map:void 0;return h=function(r){if(r===null||!x(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return q(r,arguments,y(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_(o,r)},h(n)}function q(n,t,e){if(g())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(n.bind.apply(n,r));return e&&_(o,e.prototype),o}function g(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!n})()}function x(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch(t){return typeof n=="function"}}function _(n,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},_(n,t)}function y(n){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(n)}function c(n,t,e){return(t=R(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function R(n){var t=F(n,"string");return i(t)=="symbol"?t:t+""}function F(n,t){if(i(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var p=function(n){function t(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{code:t.COMMON_ERROR_CODE},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return O(this,t),e=T(this,t,[r]),e.info=typeof o=="string"?{code:o}:o,e.SystemError=u,e}return C(t,n),m(t)}(h(Error));c(p,"COMMON_ERROR_CODE","SOMETHING_WENT_WRONG");var I=function(){function n(){O(this,n),c(this,"_options",{}),c(this,"_last_data",null),c(this,"_is_debugging",!1),c(this,"_is_emulating",!1),c(this,"_is_request_blocking",!1),this._is_debugging=-1<w.location.href.indexOf("_ng_debug")}return m(n,[{key:"request",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._is_request_blocking=!1,this._resolveOptions(e),this._is_request_blocking||(this._printDebugMsg('request data for user action "'.concat(this._options.FormData.get("user_action"),'"'),this._options),this._is_emulating?this._handleResponseData(this._options.emulation(e)):fetch(this._options.url,{method:"POST",body:this._options.FormData}).then(this._handleResponse.bind(this)).then(this._handleResponseData.bind(this)).catch(this._handleResponseError.bind(this)))}},{key:"_resolveOptions",value:function(e){this._options.FormData=this._resolveDataOption(e.data),this._options.handlers=this._resolveHandlersOption(e.handlers),this._options.url=this._resolveURLOption(e.url),this._options.emulation=this._resolveEmulationOption(e.emulation)}},{key:"_resolveDataOption",value:function(e){if(i(e)==="object"){if(Object.prototype.toString.call(e)!=="[object FormData]"){for(var r=new FormData,o=0,u=Object.entries(e);o<u.length;o++){var s=D(u[o],2),f=s[0],a=s[1];r.append(f,a)}e=r}var l=e.get("user_action");(!l||l==="undefined"||typeof l!="string")&&this._printErrorMsg('"Data" option must contain "user_action" parameter, of type string.')}else this._printErrorMsg("Data option must be a object.",e);return e}},{key:"_resolveHandlersOption",value:function(e){return i(e)!=="object"&&(e={}),!e.success&&typeof e.success!="function"&&(e.success=function(r){console.log("UAM: default success handler",r)}),!e.error&&typeof e.error!="function"&&(e.error=function(r){console.log("UAM: default error handler",r)}),e}},{key:"_resolveURLOption",value:function(e){var r;return e=(r=e)!==null&&r!==void 0?r:window.location.href,typeof e!="string"&&this._printErrorMsg('"URL" option must be string type.'),e}},{key:"_resolveEmulationOption",value:function(e){return e&&typeof e!="function"&&this._printErrorMsg('"Emulation" option must be type of function.'),e}},{key:"_handleResponse",value:function(e){if(!e.ok)throw new p("".concat(e.status," ").concat(e.statusText));return e.json()}},{key:"_handleResponseData",value:function(e){if(!e.status)throw new p("",e.result);this._printDebugMsg("request result is",e.result),this._options.handlers.success(e.result)}},{key:"_handleResponseError",value:function(e){e instanceof p||(e=new p(void 0,void 0,e)),this._printDebugMsg("an error occurred",e),this._options.handlers.error(e)}},{key:"_printDebugMsg",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this._is_debugging&&console.log("UAM: "+e,r)}},{key:"_printErrorMsg",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this._is_request_blocking=!0,console.warn("UAM: "+e,r)}}])}(),B=d.default=I});var L=G(E());function G(n){return n&&n.__esModule?n:{default:n}}(function(n){n.hasOwnProperty("NG")||(n.NG={}),n.NG.UserAction=L.default})(typeof window<"u"&&window.document&&window.document.createElement?window:void 0);})();
//# sourceMappingURL=PROJECT_NAME.min.js.map
